<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Biblioteca App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet">
    <link rel="stylesheet" href="mystyle.css">
</head>
<body style="font-size: 14px">

    <div id="app" class="container">
        <div class="card mt-3 text-center">
            <h4>Biblioteca App</h4>
        </div>

        <div class="card mt-3">
            <div class="card-body">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Nome do livro</th>
                            <th>Autores</th>
                            <th>Editora</th>
                            <th>Gênero</th>
                            <th>Idioma</th>
                            <th>Páginas</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="livro in livros">
                            <td>{{ livro.nome }}</td>
                            <td>{{ livro.autores }}</td>
                            <td>{{ livro.editora }}</td>
                            <td>{{ livro.genero }}</td>
                            <td>{{ livro.idioma }}</td>
                            <td>{{ livro.paginas }}</td>
                            <td><button @click="reservarLivro(livro)" class="btn btn-primary mt-2" type="button">{{ buscaNomeBotao(livro.reservaId) }}</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="d-flex flex-row justify-content-between">
            <div class="card mt-2" style="width: 38%">
                <div class="card-body">
                    <h4>{{ formLivro.titulo }}</h4>
                    <div class="form-group">
                        <label>Nome do livro</label>
                        <input type="text" class="form-control" v-model="formLivro.nome"/>
                    </div>
                    <div class="form-group">
                        <label>Autores</label>
                        <input type="text" class="form-control" v-model="formLivro.autores"/>
                    </div>
                    <div class="form-group">
                        <label>Editora</label>
                        <input type="text" class="form-control" v-model="formLivro.editora"/>
                    </div>
                    <div class="form-group">
                        <label>Gênero</label>
                        <input type="text" class="form-control" v-model="formLivro.genero"/>
                    </div>
                    <div class="form-group">
                        <label>Idioma</label>
                        <input type="text" class="form-control" v-model="formLivro.idioma"/>
                    </div>
                    <div class="form-group">
                        <label>Páginas</label>
                        <input type="text" class="form-control" v-model="formLivro.paginas"/>
                    </div>
                    <button @click="salvarLivro()" class="btn btn-primary mt-2" type="button">{{ formLivro.botao }}</button>
                    <button @click="limparFormulario()" style="margin-left: 5px" class="btn btn-warning mt-2" type="button">Limpar</button>
                </div>
            </div>
            <div class="card mt-2" style="width: 60%">
                <div class="card-body">
                    <h4>Últimas reservas</h4>
                    <div class="card-body">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Nome do livro</th>
                                    <th>Data da reserva</th>
                                    <th>Data para devolução</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="reserva in reservas">
                                    <td>{{ reserva.nome }}</td>
                                    <td>{{ reserva.dataReserva }}</td>
                                    <td>{{ reserva.dataDevolucao }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="vueApp.js"></script>
</body>
</html>